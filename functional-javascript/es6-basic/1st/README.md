# Functional Javascript with ECMAScript6(ES2015)

# 평가
코드가 계산(Evaluation) 되어 값을 만드는 것

## ECMAScript 에서 코드가 평가되고 실행되는 과정
- 소스코드(실행 가능한 코드)는 크게 전역 코드, 함수 코드, eval 코드, 모듈 코드로 나뉘며 각 코드는 각각의 실행 문맥(Excution Context)를 생성한다.
- 모든 소스코드는 실행에 앞서 평가 과정을 거친다. 즉 자바스크립트 엔진은 소스코드를 평과과 실행 2가지 과정으로 나눠 처리한다.
- 소스코드 평가 과정에서는 실행 컨텍스트를 생성하고 변수, 함수 등의 선언문만 먼저 실행하여 생성된 변수나 함수 식별자를 키로 실행 컨텍스트가 관리하는 스코프에 등록한다.
```javascript
let number = 1;
// 위와 같은 코드가 있을때 자바스크립트 엔진은 2개의 과정으로 나눠 처리한다.
// 첫번째는 평가 과정으로 변수 선언문 let number; 를 생행하여 식별자 number를 생성하고, 실행 컨텍스트가 관리하는 스코프에 등록되고 undefined로 초기화된다.
// 평가 과정이 끝나면 실행 과정이 시작되고, 이미 변수 number는 있기 때문에 number = 1; 를 실행하여 변수에 값을 할당한다.
```
```javascript
const x=1, y=2;

function foo(number) {
  const x=100, y=200;
  console.log(number+x+y); // 400
}

foo(100);

console.log(x+y); // 3
// 이 코드는 처음에 전역 소스코드인 변수 x, y와 함수 foo를 평가한다.
// 평가 과정이 끝나면 런타임이 사작되어 순차적으로 실행되는데 함수가 호출되면 순차적으로 실행되면 전역 코드의 실행을 일시 중단하고 함수로 컨텍스트 스위칭 된다.
// 그리고 마찬가지고 함수 안 코드를 평가하고 실행한다.
```

# 일급 객체
- 무명의 리터럴로 생성할 수 있다(=값으로 다룰 수 있다). 런타임 생서이 가능하다.
- 변수나 자료구조(객체, 배열 등)에 저장할 수 있다.
- 함수의 매개변수에 전달 가능하다. == 함수의 인자로 사용될 수 있다.
- 함수의 반환값(결과)로 사용할 수 있다.

# 일급 함수
자바스크립트의 함수는 위의 일급 객체 조건을 모두 만족하므로 일급 객체이다.
```javascript
const increase = function (num) { // 1. 2. 무명의 리터럴로 생성 후 변수에 저장.
  return ++num;
}

const makeIncreaser = (func) => { // 3. 함수의 매개변수에 전달할 수 있다.
  let num = 0;

  return () => { // 4. 함수의 반환값으로 사용할 수 있다.
    num = func(num);
    return num;
  }
}

const increaser = makeIncreaser(increase);

increaser(); // 1
increaser(); // 2
increaser(); // 3
```
- 조합성과 추상화의 도구

# 고차 함수
- 함수를 값으로 다루는 함수
- 함수의 매개변수를 통해 다른 함수의 내부로 전달되는 함수를 콜백 함수라 하고, 매개 변수를 통해 함수의 내부에서 콜백 함수를 전달받은 함수를 고차 함수라 한다.
1. 함수를 인자로 받아서 실행하는 함수
2. 함수를 만들어 리턴하는 함수 (클로저를 만들어 리턴하는 함수)
