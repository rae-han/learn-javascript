# 4. 변수

# 4.1. 변수란?

데이터를 입력 받아 처리하고 결과를 출력하며 데이터를 다루는 것이 프로그램이 하는 일이다.

```jsx
10 + 20
```

- 리터럴(고정된 값, 그 자체로 값을 의미): `10`, `20`
- 연산자: `+`
- 표현식(값을 반환하는 식 또는 코드): `10+20`(30으로 평가되는 표현식)
  - 변수에 값을 할당하거나(const one = 1), 어떤 의미로 평가하여 값으로 해석되는 것(10+20)을 표현식이라 한다.

자바스크립트 엔진이 10+20이라는 식의 의미를 해석하면 + 연산을 수행하기 위해 피연산자(여기선 숫자 10, 20)를 기억한다. 컴퓨터는 CPU를 통해 연산하고, 메모리를 사용해 데이터를 기억한다.

메모리는 데이터를 저장할 수 있는 메모리 셀의 집합체로, 메모리 셀 하나의 크기는 1Byte(8bit)이며, 컴퓨터는 1Byte 단위(셀의 크기)로 데이터를 쓰거나 읽는다.

각 셀은 고유의 메모리 주소를 갖는데, 이 메모리 주소는 메모리 공간의 위치를 나타내며 0부터 메모리의 크기만큼 16진수 정수로 표현된다. 예를 들어 `4GB` 메모리는 `0`부터 `4,294,967,295`(0x00000000 ~ 0xffffffff)까지의 메모리 주소를 갖는다.

참고로 컴퓨터는 모든 데이터를 종류 상관없이 2진수로 저장한다.

위 예제의 숫자 값 10과 20은 메모리 상의 임의의 메모리 주소에 저장되고 CPU는 이 값을 읽고 연산을 수행한다. 결과로 생성된 숫자 값 30도 메모리 상의 임의의 주소에 저장된다. 하지만 이 저장된 메모리 공간에 직접 접근하는 것을 자바스크립트에서 허용하지 않는다. 대신 저장된 값을 저장하고 읽어 들여 재사용학 위해 변수라는 메커니즘을 제공한다.

즉 변수는 하나의 값을 저장하기 위해 확보한 메모리 공간 자체 또는 그 메모리 공간을 식별하기 위해 붙인 이름이다. 간단히 변수는 프로그래밍 언어에서 값을 저장하고 참조하는 메커니즘으로, 값을 위치를 가리키는 상징적인 이름이다.

# 4.2. 식별자

변수 이름을 식별자라고도 하는데, 식별자는 어떤 값을 구별해서 식별할 수 있는 고유한 이름을 말한다.

```jsx
let result = 10 + 20;
// 만약 10 + 20 을 실행한 30이라는 값이 메모리 0x? 에 있다면, 식별자 result는 이 주소를 기억하여 메모리 주소와 매핑 관계를 맺는다.
```

# 4.3. 변수 선언

변수 선언이란 변수를 생성하는 것으로, 값을 저장하기 위한 메모리 공간을 확보하고 변수 이름과 확보된 메모리 공간의 주소를 연결하여 값을 저장할 수 있게 준비하는 것이다.

변수를 사용하려면 반드시 선언이 필요하고, 이를 위해서 const, let, var 같은 키워드가 필요하다.

변수 선언을 하면 자바스크립트 엔진은 평가 단계에서 선언과 초기화를 실행한다. 선언은 이름을 등록하여 자바스크립트 엔진에 변수의 존재를 알리는 것이고, 초기화는 값을 저장하기 위한 메모리 공간을 확보하고 암묵적으로 undefined를 할당해 초기화하는 것이다. 초기화란 변수가 선언된 이후 최초로 값을 할당하는 것을 말한다.

# 4.4. 변수 선언의 실행 시점과 변수 호이스팅

var 키워드를 사용했을때 변수 선언이 소스코드가 한 줄 씩 순차적으로 실해오디는 시점, 즉 런타임이 아니라 그 이전 단계(평가 시점)에 먼저 실행되기 때문에, 인터프리터에 의해 한줄씩 해석되며 선언 전에 실행 하더라도 참조 에러가 발생하지 않는다.

# 4.5. 값의 할당

변수에 값을 할당할 때는 할상 연산자 `=`를 사용한다.

다만 할당 시 앞의 변수 선언과 값의 할당 2개로 나눠 실행되는데, 변수 선언은 소스코드가 순차적으로 실행되는 시점인 런타임 이전(평가 시점)에 먼저 실행되지만, 값의 할당은 소스코드가 순차적으로 실행되는 시점인 런타임(실행 시점)에 실행된다.

# 4.6. 값의 재할당

자바스크립트는 가비지 콜렉터를 내장하고 있는 매니지드 언어로 가비지 콜렉터를 통해 메모리 누수를 방지한다.

C 언어 처럼 개발자가 명시적으로 메모리를 할당하고 해제하는 언어를 언매니지드 언어, 자바스크립트처럼 개발자의 직접적인 메모리 제어를 허용하지 않고 가비지 콜렉터가 수행하는 언어를 매니지드 언어라 한다.

# 4.7. 식별자 네이밍 규칙

- 특수문자를 제외한 문자, 숫자, _, $를 포함할 수 있다.
- 다만 숫자로 시작하는 것은 허용하지 않는다.
- 예약어는 식별자로 사용할 수 없다.

일관성을 유지한다면 어떤 네이밍 컨벤션을 사용해도 좋지만, 자바스크립트에서는 일반적으로 변수나 함수의 이름에는 카멜 케이스를, 생성자 함수, 클래스의 이름에는 파스칼 케이스를 사용한다.